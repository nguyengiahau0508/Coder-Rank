<!-- Modal Overlay -->
<div class="fixed inset-0 bg-gray-900/60 backdrop-blur-sm z-50 flex items-start justify-center pt-20">
  <!-- Modal Content -->
  <div class="w-full max-w-md mx-4 p-6 bg-white/95 backdrop-blur-md rounded-xl shadow-xl border border-gray-200">

    <!-- Loading State -->


    <!-- Form Content -->
    <div class="space-y-6">
      <h3 class="text-xl font-semibold text-gray-900">Create New Test Case</h3>

      <form (ngSubmit)="onSubmit()" class="space-y-5">
@if (isLoading()) {
        <app-loading></app-loading>
    }@else{
<!-- Input Field -->
        <div class="space-y-2">
          <label for="input" class="block text-sm font-medium text-gray-700">Input</label>
          <textarea
            id="input"
            [(ngModel)]="testcase().input"
            name="input"
            rows="4"
            class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-white/80 shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all duration-200 placeholder:text-gray-400 text-sm"
            placeholder="Enter test case input"
            required
          ></textarea>
        </div>

        <!-- Output Field -->
        <div class="space-y-2">
          <label for="output" class="block text-sm font-medium text-gray-700">Output</label>
          <textarea
            id="output"
            [(ngModel)]="testcase().output"
            name="output"
            rows="4"
            class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-white/80 shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all duration-200 placeholder:text-gray-400 text-sm"
            placeholder="Enter expected output"
            required
          ></textarea>
        </div>

        <!-- Is Sample Checkbox -->
        <div class="flex items-center">
          <input
            id="isSample"
            [(ngModel)]="testcase().isSample"
            name="isSample"
            type="checkbox"
            class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 transition-colors duration-200"
          >
          <label for="isSample" class="ml-2 text-sm text-gray-900 font-medium">
            Is Sample Test Case
          </label>
        </div>


      }
                <!-- Buttons -->
        <div class="flex justify-end gap-3 pt-2">
          <button
            type="button"
            (click)="onCancel()"
            class="px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors duration-200"
          >
            Cancel
          </button>
          <button
            type="submit"
            [disabled]="isLoading()"
            class="px-4 py-2 bg-indigo-600 border border-transparent rounded-lg text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:bg-indigo-400 disabled:cursor-not-allowed transition-all duration-200"
          >
            Create
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
